<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:body>
	<ui:composition>
		<script>
			function callSearch() {
				jQuery("button[id$='hiddenSearchButton']").click();
			}
		</script>
		<p:panel id="header">
			<p:graphicImage value="#{mainManagedBean.urlPath}images/header_logo.png" />
			<p:menubar>
				<p:menuitem value="#{messages['menu.home']}" url="/" />

				<f:facet name="options">
		            <p:inputText id="searchText" style="margin-right:10px" placeholder="#{messages['search']}" value="#{productSearchManagedBean.searchText}"/>
		            <p:commandButton icon="fa fa-search" process="searchText" update="hiddenSearchButton" oncomplete="callSearch()" />
		            <p:button id="hiddenSearchButton" widgetVar="hiddenSearchButton" href="busca?q=#{productSearchManagedBean.searchText}" style="display: none;"/>

					<p:button value="#{messages['carrinho']}" icon="fa fa-shopping-cart" href="carrinho" />

		            <p:button value="#{messages['login']}" icon="fa fa-sign-in"
		            	rendered="#{customerManagedBean.customer == null}" href="login" />
		            <p:commandButton value="#{messages['logout']}" icon="fa fa-sign-out" ajax="false"
		            	rendered="#{customerManagedBean.customer != null}" action="#{customerManagedBean.logout}" />
		        </f:facet>
			</p:menubar>
		</p:panel>
	</ui:composition>
</h:body>
</html>